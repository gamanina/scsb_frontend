var slidebars=function(){function n(i){var e=$(),t="0px, 0px",n=1e3*parseFloat(s[i].element.css("transitionDuration"),10);return"reveal"!==s[i].style&&"push"!==s[i].style&&"shift"!==s[i].style||(e=e.add(r)),"push"!==s[i].style&&"overlay"!==s[i].style&&"shift"!==s[i].style||(e=e.add(s[i].element)),s[i].active&&("top"===s[i].side?t="0px, "+s[i].element.css("height"):"right"===s[i].side?t="-"+s[i].element.css("width")+", 0px":"bottom"===s[i].side?t="0px, -"+s[i].element.css("height"):"left"===s[i].side&&(t=s[i].element.css("width")+", 0px")),{elements:e,amount:t,duration:n}}var r=$("[canvas]"),s={},a=!1,e=!1,t=["top","right","bottom","left"],o=["reveal","push","overlay","shift"],l=function(i){return!!s.hasOwnProperty(i)};this.init=function(i){if(a)throw"Slidebars has already been initialized.";e||($("[off-canvas]").each(function(){var i=$(this).attr("off-canvas").split(" ",3);if(!i||!i[0]||-1===t.indexOf(i[1])||-1===o.indexOf(i[2]))throw"Error registering Slidebar, please specifiy a valid id, side and style'.";!function(i,e,t,n){if(l(i))throw"Error registering Slidebar, a Slidebar with id '"+i+"' already exists.";s[i]={id:i,side:e,style:t,element:n,active:!1}}(i[0],i[1],i[2],$(this))}),e=!0),a=!0,this.css(),$(d).trigger("init"),"function"==typeof i&&i()},this.exit=function(i){if(!a)throw"Slidebars hasn't been initialized.";function e(){a=!1,$(d).trigger("exit"),"function"==typeof i&&i()}this.getActiveSlidebar()?this.close(e):e()},this.css=function(i){if(!a)throw"Slidebars hasn't been initialized.";for(var e in s){var t;l(e)&&(t="top"===s[e].side||"bottom"===s[e].side?s[e].element.css("height"):s[e].element.css("width"),"push"!==s[e].style&&"overlay"!==s[e].style&&"shift"!==s[e].style||s[e].element.css("margin-"+s[e].side,"-"+t))}this.getActiveSlidebar()&&this.open(this.getActiveSlidebar()),$(d).trigger("css"),"function"==typeof i&&i()},this.open=function(e,t){if(!a)throw"Slidebars hasn't been initialized.";if(!e||!l(e))throw"Error opening Slidebar, there is no Slidebar with id '"+e+"'.";function i(){s[e].active=!0,s[e].element.css("display","block"),$(d).trigger("opening",[s[e].id]);var i=n(e);i.elements.css({"transition-duration":i.duration+"ms",transform:"translate("+i.amount+")"}),setTimeout(function(){$(d).trigger("opened",[s[e].id]),"function"==typeof t&&t()},i.duration)}this.getActiveSlidebar()&&this.getActiveSlidebar()!==e?this.close(i):i()},this.close=function(i,e){if("function"==typeof i&&(e=i,i=null),!a)throw"Slidebars hasn't been initialized.";if(i&&!l(i))throw"Error closing Slidebar, there is no Slidebar with id '"+i+"'.";var t;(i=i||this.getActiveSlidebar())&&s[i].active&&(s[i].active=!1,$(d).trigger("closing",[s[i].id]),(t=n(i)).elements.css("transform",""),setTimeout(function(){t.elements.css("transition-duration",""),s[i].element.css("display",""),$(d).trigger("closed",[s[i].id]),"function"==typeof e&&e()},t.duration))},this.toggle=function(i,e){if(!a)throw"Slidebars hasn't been initialized.";if(!i||!l(i))throw"Error toggling Slidebar, there is no Slidebar with id '"+i+"'.";s[i].active?this.close(i,function(){"function"==typeof e&&e()}):this.open(i,function(){"function"==typeof e&&e()})},this.isActive=function(i){return a},this.isActiveSlidebar=function(i){if(!a)throw"Slidebars hasn't been initialized.";if(!i)throw"You must provide a Slidebar id.";if(!l(i))throw"Error retrieving Slidebar, there is no Slidebar with id '"+i+"'.";return s[i].active},this.getActiveSlidebar=function(){if(!a)throw"Slidebars hasn't been initialized.";var i,e=!1;for(i in s)if(l(i)&&s[i].active){e=s[i].id;break}return e},this.getSlidebars=function(){if(!a)throw"Slidebars hasn't been initialized.";var i,e=[];for(i in s)l(i)&&e.push(s[i].id);return e},this.getSlidebar=function(i){if(!a)throw"Slidebars hasn't been initialized.";if(!i)throw"You must pass a Slidebar id.";if(!i||!l(i))throw"Error retrieving Slidebar, there is no Slidebar with id '"+i+"'.";return s[i]},this.events={};var d=this.events;$(window).on("resize",this.css.bind(this))};