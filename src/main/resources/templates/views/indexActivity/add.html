<!DOCTYPE html>
<html lang="zh-Hant-TW" xmlns:th="http://www.thymeleaf.org">
<head th:include="views/common/head :: head"></head>
<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul th:include="views/common/sidebar :: sidebar" class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar"></ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav th:include="views/common/navbar :: navbar" class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"></nav>
                <!-- End of Topbar -->


                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0">首頁 - 最新活動</h1>
                    </div>

                    <div class="formWizard">
                        <ul class="nav nav25">
                            <li class="active">
                                <i class="fas fa-edit"></i>
                                <p>
                                    經辦
                                </p>
                            </li>
                            <li>
                                <div class="nav-wedge"></div>
                                <i class="fas fa-user-check"></i>
                                <p>
                                    審核
                                </p>
                            </li>
                            <li>
                                <div class="nav-wedge"></div>
                                <i class="fas fa-user-check"></i>
                                <p>
                                    公關
                                </p>
                            </li>
                            <li>
                                <div class="nav-wedge"></div>
                                <i class="fas fa-user-check"></i>
                                <p>
                                    覆核
                                </p>
                            </li>
                        </ul>
                    </div>

                    <div class="row">

                        <div class="col-lg-12 mb-4">

                            <div class="card shadow mb-4">
                                <div class="card-header">
                                    <div class="navbar">
                                        <h6 class="m-0 font-weight-bold">首頁 - 最新活動申請</h6>
                                    </div>
                                </div>
                                <div class="card-body">
                                <form id="sForm" enctype="multipart/form-data" method="post" th:object="${indexActivityForm}">
                                    <input type="hidden" th:field="*{applicantId}">
                                    <input type="hidden" th:field="*{applicant}">
                                    <input type="hidden" th:field="*{applicantUnitId}">
                                    <input type="hidden" th:field="*{applicantUnit}">
                                    <input type="hidden" th:field="*{nextApprover}">
                                    <input type="hidden" th:field="*{agent}">
                                    <div class="row ml-0 mr-0">
                                        <div class="col-lg-12 card-table">
                                            <p>
                                            	申請人： <span th:text=*{applicant}></span>
                                            </p>
                                            <p>
                                               	 申請單位： <span th:text=*{applicantUnit}></span>
                                            </p>
                                            <div class="card-select">
                                                <div class="form-group form-datepicker">
                                                    <div class="row">
                                                        <div class="outsideInp">
                                                            <label for="">刊登日期</label>
                                                            <div class="input-group date">
                                                                <input id="fromNodate" class="form-control" type="text" th:field="*{onTimeDate}" required>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="outsideInp">
                                                        	<label for="">時間</label>
															<div>
																<select class="form-control form-selectdate" th:field="*{onTimeHour}">
																	<option value="00">00</option>
																	<option value="01">01</option>
																	<option value="02">02</option>
																	<option value="03">03</option>
																	<option value="04">04</option>
																	<option value="05">05</option>
																	<option value="06">06</option>
																	<option value="07">07</option>
																	<option value="08">08</option>
																	<option value="09">09</option>
																	<option value="10">10</option>
																	<option value="11">11</option>
																	<option value="12">12</option>
																	<option value="13">13</option>
																	<option value="14">14</option>
																	<option value="15">15</option>
																	<option value="16">16</option>
																	<option value="17">17</option>
																	<option value="18">18</option>
																	<option value="19">19</option>
																	<option value="20">20</option>
																	<option value="21">21</option>
																	<option value="22">22</option>
																	<option value="23">23</option>
																</select>
																<span class="symbol"> ： </span>
																<select class="form-control form-selectdate" th:field="*{onTimeMin}">
																	<option value="00">00</option>
																	<option value="15">15</option>
																	<option value="30">30</option>
																	<option value="45">45</option>
																</select>
																<span class="symbol butterfly"> ～ </span>
                                                            </div>
                                                        </div> 
                                                        <div class="outsideInp">
                                                            <label for="">停刊日期</label>
                                                            <div class="input-group date">
                                                                <input id="toNodate" class="form-control" type="text" th:field="*{offTimeDate}" required>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="outsideInp">
                                                            <label for="">時間</label>
                                                        	 <div style="width: 300px;">
	                                                            <select class="form-control form-selectdate" th:field="*{offTimeHour}">
	                                                                <option value="00">00</option>
	                                                                <option value="01">01</option>
	                                                                <option value="02">02</option>
	                                                                <option value="03">03</option>
	                                                                <option value="04">04</option>
	                                                                <option value="05">05</option>
	                                                                <option value="06">06</option>
	                                                                <option value="07">07</option>
	                                                                <option value="08">08</option>
	                                                                <option value="09">09</option>
	                                                                <option value="10">10</option>
	                                                                <option value="11">11</option>
	                                                                <option value="12">12</option>
	                                                                <option value="13">13</option>
	                                                                <option value="14">14</option>
	                                                                <option value="15">15</option>
	                                                                <option value="16">16</option>
	                                                                <option value="17">17</option>
	                                                                <option value="18">18</option>
	                                                                <option value="19">19</option>
	                                                                <option value="20">20</option>
	                                                                <option value="21">21</option>
	                                                                <option value="22">22</option>
	                                                                <option value="23">23</option>
	                                                            </select>
                                                        		<span class="symbol"> ： </span>
                                                            	<select class="form-control form-selectdate" th:field="*{offTimeMin}">
	                                                                <option value="00">00</option>
	                                                                <option value="15">15</option>
	                                                                <option value="30">30</option>
	                                                                <option value="45">45</option>
	                                                            </select>
                                                        	</div>
                                                    	</div>
                                                    </div>
                                                    <div class="invalidColor" th:if="${#fields.hasErrors('onTimeDate')}" th:errors="*{onTimeDate}"></div>
                                                </div>
                                            </div>                                         

                                            <div class="card-select">
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <label for="">您的下一層簽核人員</label>
                                                            <select class="form-control chosen-select" tabindex="2" data-placeholder="Choose..." required="required" th:field="*{nextApproverId}">
                                                            	<option value="">請選擇</option>
                                                                <option th:each="approver:${approverList}" th:value="${approver.cn}" th:text="${approver.givenName}" th:selected="${approver.cn} == *{nextApproverId}"></option>
                                                            </select>
                                                            <div class="invalidColor" th:if="${#fields.hasErrors('nextApprover')}" th:errors="*{nextApprover}"></div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <label for="">您的下一層簽核人員之代理人</label>
                                                            <select class="form-control chosen-select" tabindex="2" data-placeholder="Choose..."  th:field="*{agentId}">
                                                            	<option value="">請選擇</option>
                                                                <option th:each="approver:${approverList}" th:value="${approver.cn}" th:text="${approver.givenName}" th:selected="${approver.cn} == *{agentId}"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="titlename">標題<span>註：上限 40 字</span></label>
                                                <input type="text" class="form-control" id="titlename" placeholder="" maxlength="40" required th:field="*{title}">
                                                <div class="invalidColor" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
                                            </div>

                                            <div class="form-group">
                                                <label>
                                                    圖檔
                                                    <span>（尺寸：465*262 px）註：圖檔檔名請加上部門或日期，以避免檔名重複造成複寫。</span>
                                                </label>
                                                <br>
                                                <div class="fileUpload btn btn-upload btn-icon-split">
                                                    <span class="icon">
                                                        <i class="fas fa-plus"></i>
                                                    </span>
                                                    <span class="text">上傳</span>
                                                    <input id="up_imgfile" type="file" class="upload" th:field="*{imageFile}">
                                                </div>
                                                <input id="show_imgfile" class="fileUpload" placeholder="未選擇任何檔案" disabled="disabled">
                                             	<div class="invalidColor" th:if="${#fields.hasErrors('imageFile')}" th:errors="*{imageFile}"></div>
                                            </div>
                                            <div class="form-group">
                                                <label for="imgurl">圖檔連結</label>
                                                <input type="text" class="form-control" id="imgurl" placeholder="" th:field="*{imageUrl}">
                                            </div>
                                            
                                            <div class="form-group">
                                                <label>
                                                	附檔
                                                    <span>註：附檔檔名請加上部門或日期，以避免檔名重複造成複寫 / 若有多檔案請打包壓縮成同一筆</span>
                                                </label>
                                                <br>
                                                <div class="fileUploadGroup">
	                                                <div class="fileUpload btn btn-upload btn-icon-split">
	                                                    <span class="icon">
	                                                        <i class="fas fa-plus"></i>
	                                                    </span>
	                                                    <span class="text">上傳</span>
	                                                    <input id="up_attachedfile01" type="file" class="upload" th:field="*{file}">
	                                                </div>
	                                                <input id="show_attachedfile01" class="fileUpload" placeholder="未選擇任何檔案" disabled="disabled">
	                                                <div class="invalidColor" th:if="${#fields.hasErrors('file')}" th:errors="*{file}"></div>
	                                            </div>
	                                            <div class="fileUploadGroup">
	                                                <div class="fileUpload btn btn-upload btn-icon-split">
	                                                    <span class="icon">
	                                                        <i class="fas fa-plus"></i>
	                                                    </span>
	                                                    <span class="text">上傳</span>
	                                                    <input id="up_attachedfile02" type="file" class="upload" th:field="*{file2}">
	                                                </div>
	                                                <input id="show_attachedfile02" class="fileUpload" placeholder="未選擇任何檔案" disabled="disabled">
	                                            	<div class="invalidColor" th:if="${#fields.hasErrors('file2')}" th:errors="*{file2}"></div>
	                                            </div>
	                                            <div class="fileUploadGroup">
	                                                <div class="fileUpload btn btn-upload btn-icon-split">
	                                                    <span class="icon">
	                                                        <i class="fas fa-plus"></i>
	                                                    </span>
	                                                    <span class="text">上傳</span>
	                                                    <input id="up_attachedfile03" type="file" class="upload" th:field="*{file3}">
	                                                </div>
	                                                <input id="show_attachedfile03" class="fileUpload" placeholder="未選擇任何檔案" disabled="disabled">
	                                                <div class="invalidColor" th:if="${#fields.hasErrors('file3')}" th:errors="*{file3}"></div>
	                                            </div>
	                                            <div class="fileUploadGroup">
	                                                <div class="fileUpload btn btn-upload btn-icon-split">
	                                                    <span class="icon">
	                                                        <i class="fas fa-plus"></i>
	                                                    </span>
	                                                    <span class="text">上傳</span>
	                                                    <input id="up_attachedfile04" type="file" class="upload" th:field="*{file4}">
	                                                </div>
	                                                <input id="show_attachedfile04" class="fileUpload" placeholder="未選擇任何檔案" disabled="disabled">
	                                                <div class="invalidColor" th:if="${#fields.hasErrors('file4')}" th:errors="*{file4}"></div>
	                                            </div>
	                                            <div class="fileUploadGroup">
	                                                <div class="fileUpload btn btn-upload btn-icon-split">
	                                                    <span class="icon">
	                                                        <i class="fas fa-plus"></i>
	                                                    </span>
	                                                    <span class="text">上傳</span>
	                                                    <input id="up_attachedfile05" type="file" class="upload" th:field="*{file5}">
	                                                </div>
	                                                <input id="show_attachedfile05" class="fileUpload" placeholder="未選擇任何檔案" disabled="disabled">
	                                                <div class="invalidColor" th:if="${#fields.hasErrors('file5')}" th:errors="*{file5}"></div>
	                                            </div>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label for="titlename">最新活動內容</label>
                                                <textarea class="form-control" rows="10" placeholder="" th:field="*{content}"></textarea>
                                            	<div class="invalidColor" th:if="${#fields.hasErrors('content')}" th:errors="*{content}"></div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                </div>
                            </div>

                        </div>

                    </div>

                    <div class="btnNext">
                        <a href="#" class="btn btn-return" onclick="preview()">
                            <span class="">預覽</span>
                        </a>
                        <a href="#" class="btn btn-next" onclick="submit()">
                            <span class="">送出表單</span>
                        </a>
                    </div>

                </div>

            </div>

        </div>

    </div>

</body>
<footer th:include="views/common/footer :: footer"></footer>
<script>
$('#nextApproverId').change(function(){
	var nextApprover = $("#nextApproverId").find('option:selected').text();
	
	if (nextApprover != "請選擇"){
		$('#nextApprover').val(nextApprover);		
	}
	else{
		$('#nextApprover').val("");
	}
});

$('#agentId').change(function(){
	var agent = $("#agentId").find('option:selected').text();
	
	if (agent != "請選擇"){
		$('#agent').val(agent);		
	}
	else{
		$('#agent').val("");
	}
});

function preview(){
	document.forms['sForm'].target = '_blank';
	document.forms['sForm'].action = '/scsb-springboot-0.0.3/previewIndexActivity';
	document.forms['sForm'].submit();
}

function submit(){
	document.forms['sForm'].target = '_self';
	document.forms['sForm'].action = 'save';
	document.forms['sForm'].submit();
}
</script>
</html>